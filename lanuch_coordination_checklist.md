
# 系统上线发布协调检查列表

## 系统架构

```
1. 系统架构草图，服务器类型，客户端请求类型
2. 编程性客户端的请求
```

## 物理机与数据中心
```
1. 物理机数量与宽带，数据中心，N+2冗度，网络QoS
2. 域名，负载均衡
```

## 流量预估、容量以及性能
```
1. HTTP流量与宽带预估、发布时峰值、流量的组成、6个月的预测
2. 压力测试、端到端测试、每个数据中心最高延迟下的容量
3. 对其他我们关注的服务的影响
4. 存储容量
```

## 系统可靠性与灾难恢复
当下列情况发生时，服务会怎样
```
-- 物理机故障、集群故障、机柜故障
-- 两个数据中心之间的网络故障
```
对每种需要联系其他服务器（后端）的服务器来说
```
-- 如何检测后端故障，后端故障如何处理
-- 如何在不影响客户端和用户的情况下重启服务器
-- 负载均衡，速度限制，超时，重试，以及错误处理
```
数据备份/恢复，灾难恢复

## 监控与服务器管理
```
1. 监控内部状态，监控端到端行为，警报的管理
2. 监控监控系统
3. 核心业务数据的监控
```
## 安全
```
1. 代码安全，验证，垃圾邮件风险，SSL
2. 发布之前可见/可访问性控制，各种类型的黑名单
```
## 自动化与人工任务
```
1. 更新服务器、数据、配置文件的方式和变更管理
2. 发布流程，可重复的构建过程，金丝雀测试，分阶段发布
```
## 增长问题
```
1. 剩余容量，10倍增长
2. 扩展性的瓶颈，线性扩展，与硬件性能的同步扩展、所需要的变更
3. 缓存，数据分片/重新分片
```

## 外部依赖
```
1. 第三方系统，监控，网络条件，流量配比，发布时流量峰值
2. 优雅降级，如何避免意外对第三方服务造成过载
3. 与合作伙伴，邮件系统，短信服务的对接
```

## 发布时间与发布计划
```
1. 不可改变的截止日期，外部事件，周一或者周五
2. 该服务标准的运维流程
```

## Ref

[https://landing.google.com/sre/book/chapters/launch-checklist.html](https://landing.google.com/sre/book/chapters/launch-checklist.html)
[https://www.jianshu.com/p/4a3c91334bd9](https://www.jianshu.com/p/4a3c91334bd9)

