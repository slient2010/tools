{{ template "header" .}}
  <body>
    <div id="wrapper">
        <!-- Navigation -->
       {{  template "nav" .}}
        <div id="page-wrapper">
            <div class="row">
                <div class="col-lg-12">
                    <h1 class="page-header"> Dashboard</h1>
                </div>
                <!-- /.col-lg-12 -->
            </div>

            <!-- /.row -->
            <div class="row">
                <div class="col-lg-3 col-md-6">
                    <div class="panel panel-info">
                        <div class="panel-heading">
                            <div class="row">
                                <div class="col-xs-3">
                                    <i class="fa fa-bar-chart fa-5x"></i>
                                </div>
                                <div class="col-xs-9 text-right">
                                    <div class="huge">124</div>
                                    <div>用户访问</div>
                                </div>
                            </div>
                        </div>
                        <a href="#">
                            <div class="panel-footer">
                                <span class="pull-left">查看详细</span>
                                <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                                <div class="clearfix"></div>
                            </div>
                        </a>
                    </div>
                </div>

                <div class="col-lg-3 col-md-6">
                    <div class="panel panel-green">
                        <div class="panel-heading">
                            <div class="row">
                                <div class="col-xs-3">
                                    <i class="fa fa-tasks fa-5x"></i>
                                </div>
                                <div class="col-xs-9 text-right">
                                    <div class="huge">100%</div>
                                    <div>服务器可用状态</div>
                                </div>
                            </div>
                        </div>
                        <a href="http://ljops.monitor.ue.cn/report2.php?ddreset=1" target="_blank">
                            <div class="panel-footer">
                                <span class="pull-left">查看详细</span>
                                <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                                <div class="clearfix"></div>
                            </div>
                        </a>
                    </div>
                </div>            
                <div class="col-lg-3 col-md-6">
                    <div class="panel panel-primary">
                        <div class="panel-heading">
                            <div class="row">
                                <div class="col-xs-3">
                                    <i class="fa fa-comments fa-5x"></i>
                                </div>
                                <div class="col-xs-9 text-right">
                                    <div class="huge">26</div>
                                    <div>设备(台)</div>
                                </div>
                            </div>
                        </div>
                        <a href="#">
                            <div class="panel-footer">
                                <span class="pull-left">查看详细</span>
                                <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                                <div class="clearfix"></div>
                            </div>
                        </a>
                    </div>
                </div>

                <div class="col-lg-3 col-md-6">
                    <div class="panel panel-red">
                        <div class="panel-heading">
                            <div class="row">
                                <div class="col-xs-3">
                                    <i class="fa fa-support fa-5x"></i>
                                </div>
                                <div class="col-xs-9 text-right">
                                    <div class="huge">0</div>
                                    <div>未处理告警</div>
                                </div>
                            </div>
                        </div>
                        <a href="#">
                            <div class="panel-footer">
                                <span class="pull-left">查看详细</span>
                                <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                                <div class="clearfix"></div>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
            <!-- /.row -->
            <div class="row">
                <div class="col-lg-8">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <i class="fa fa-bar-chart-o fa-fw"></i> 长垣数据中心流量图(8H)
                            <div class="pull-right">
                                <div class="btn-group">
                                    <button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown">
                                        Actions
                                        <span class="caret"></span>
                                    </button>
                                    <ul class="dropdown-menu pull-right" role="menu">
                                        <li><a href="/">刷新</a>
                                        </li>
                                        <li><a href="http://ljops.monitor.ue.cn/charts.php?graphid=1709" target="_blank">详细流量</a>
                                        </li>
                                        <!-- <li><a href="#">Something else here</a>
                                        </li>
                                        <li class="divider"></li>
                                        <li><a href="#">Separated link</a>
                                        </li> -->
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!-- /.panel-heading -->
                        <div class="panel-body">
                            <div id="main" style="height:400px"></div>
                            <!--<div id="main" style="width: 800px;height:400px;"></div>-->
                        </div>
                        <!-- /.panel-body -->
                    </div>
                    <!-- /.panel -->
                </div>
                <!-- /.col-lg-8 -->
                <div class="col-lg-4">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <i class="fa fa-bell fa-fw"></i> 日志审计（开发中）
                        </div>
                        <!-- /.panel-heading -->
                        <div class="panel-body">
                            <div class="list-group">
                                <a href="#" class="list-group-item">
                                    <i class="fa fa-exclamation-triangle fa-fw"></i> yangjun 修改172.16.66.13服务器root用户密码。
                                    <span class="pull-right text-muted small"><em>4 分钟之前</em>
                                    </span>
                                </a>
                                <a href="#" class="list-group-item">
                                    <i class="fa fa-info fa-fw"></i> yangjun 退出了172.16.66.13服务器。
                                    <span class="pull-right text-muted small"><em>12 分钟之前</em>
                                    </span>
                                </a>
                                <a href="#" class="list-group-item">
                                    <i class="fa fa-info fa-fw"></i> 防火墙（172.16.66.1）拦截了10次攻击。
                                    <span class="pull-right text-muted small"><em>22 分钟之前</em>
                                    </span>
                                </a>   
                                <!--                             
                                <a href="#" class="list-group-item">
                                    <i class="fa fa-envelope fa-fw"></i> Message Sent
                                    <span class="pull-right text-muted small"><em>27 minutes ago</em>
                                    </span>
                                </a>
                                <a href="#" class="list-group-item">
                                    <i class="fa fa-tasks fa-fw"></i> New Task
                                    <span class="pull-right text-muted small"><em>43 minutes ago</em>
                                    </span>
                                </a>
                                <a href="#" class="list-group-item">
                                    <i class="fa fa-upload fa-fw"></i> Server Rebooted
                                    <span class="pull-right text-muted small"><em>11:32 AM</em>
                                    </span>
                                </a>
                                <a href="#" class="list-group-item">
                                    <i class="fa fa-bolt fa-fw"></i> Server Crashed!
                                    <span class="pull-right text-muted small"><em>11:13 AM</em>
                                    </span>
                                </a>
                                <a href="#" class="list-group-item">
                                    <i class="fa fa-warning fa-fw"></i> Server Not Responding
                                    <span class="pull-right text-muted small"><em>10:57 AM</em>
                                    </span>
                                </a>
                                <a href="#" class="list-group-item">
                                    <i class="fa fa-shopping-cart fa-fw"></i> New Order Placed
                                    <span class="pull-right text-muted small"><em>9:49 AM</em>
                                    </span>
                                </a>
                                <a href="#" class="list-group-item">
                                    <i class="fa fa-money fa-fw"></i> Payment Received
                                    <span class="pull-right text-muted small"><em>Yesterday</em>
                                    </span>
                                </a>
                                -->
                            </div>
                            <!-- /.list-group -->
                            <a href="#" class="btn btn-default btn-block">查看详细</a>
                        </div>
                        <!-- /.panel-body -->
                    </div>
                    <!-- /.panel -->
              <!--       <div class="panel panel-default">
                        <div class="panel-heading">
                            <i class="fa fa-bar-chart-o fa-fw"></i> Donut Chart Example
                        </div>
                        <div class="panel-body">
                            <div id="morris-donut-chart"></div>
                            <a href="#" class="btn btn-default btn-block">View Details</a>
                        </div>
                    </div> -->
                    <!-- /.panel -->
                </div>
                <!-- /.col-lg-4 -->


                <!--用户IP环形图-->
                <div class="col-lg-8">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <i class="fa fa-bar-chart-o fa-fw"></i> 近一小时内服务器响应代码统计图
                            <div class="pull-right">
                                <div class="btn-group">
                                    <button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown">
                                        Actions
                                        <span class="caret"></span>
                                    </button>
                                    <ul class="dropdown-menu pull-right" role="menu">
                                        <li><a href="/">刷新</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!-- /.panel-heading -->
                        <div class="panel-body">
                            <div id="httpstatus" style="height:400px"></div>
                            <!--<div id="main" style="width: 800px;height:400px;"></div>-->
                        </div>
                        <!-- /.panel-body -->
                    </div>
                    <!-- /.panel -->
                </div>
                <!-- /.col-lg-8 -->   

                <div class="col-lg-4">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <i class="fa fa-bell fa-fw"></i> 教学平台浏览器代理占比（最近一小时）
                        </div>
                        <!-- /.panel-heading -->
                        <div class="panel-body">
                           <div id="visitors" style="height:400px"></div>
                        </div>
                        <!-- /.panel-body -->
                    </div>
                    <!-- /.panel -->
                </div>
                <!-- /.col-lg-4 -->
            
                <!--用户访问统计图-->
                <div class="col-lg-8">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <i class="fa fa-bar-chart-o fa-fw"></i> 长垣教学平台用户访问图
                            <div class="pull-right">
                                <div class="btn-group">
                                    <button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown">
                                        Actions
                                        <span class="caret"></span>
                                    </button>
                                    <ul class="dropdown-menu pull-right" role="menu">
                                        <li><a href="/">刷新</a>
                                        </li>
                                        <li><a href="http://ljops.monitor.ue.cn/charts.php?graphid=1709" target="_blank">详细</a>
                                        </li>
                                        <!-- <li><a href="#">Something else here</a>
                                        </li>
                                        <li class="divider"></li>
                                        <li><a href="#">Separated link</a>
                                        </li> -->
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!-- /.panel-heading -->
                        <div class="panel-body">
                        </div>
                        <!-- /.panel-body -->
                    </div>
                    <!-- /.panel -->
                </div>
                <!-- /.col-lg-8 -->
                <div class="col-lg-4">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <i class="fa fa-bell fa-fw"></i> 近一小时内IP统计图
                        </div>
                        <!-- /.panel-heading -->
                        <div class="panel-body">
                           <div id="ips" style="height:400px"></div>
                        </div>
                        <!-- /.panel-body -->
                    </div>
                    <!-- /.panel -->
                </div>
                <!-- /.col-lg-4 -->
            </div>
            <!-- /.row -->
        </div>
        <!-- /#page-wrapper -->

    </div>
    <!-- /#wrapper -->



    <!-- jQuery -->
    <script src="static/js/echarts.common.min.js"></script>

    <script src="static/js/jquery.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="static/js/bootstrap.min.js"></script>

    <!-- Metis Menu Plugin JavaScript -->
    <script src="static/js/metisMenu.min.js"></script>

    <!-- Morris Charts JavaScript -->
    <script src="static/js/raphael-min.js"></script>
    <!-- <script src="static/js/morris.min.js"></script> -->
    <!-- <script src="static/js/morris-data.js"></script> -->

    <!-- Custom Theme JavaScript -->
    <script src="static/js/sb-admin-2.js"></script>

    <script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('main'));
      
        // 指定图表的配置项和数据
        var option = {
            title: {
                text: '长垣数据中心流量图(8H)'
            },
            tooltip : {
                trigger: 'axis'
            },
            legend: {
                data:['入口流量','出口流量']
            },
            toolbox: {
                feature: {
                    saveAsImage: {}
                }
            },
            grid: {
                // left: '3%',
                // right: '4%',
                // bottom: '3%',
                // containLabel: true
            },
            xAxis : [
                {
                    type : 'category',
                    boundaryGap : false,
                    name : "时间",
                    data : {{ .TrafficTime }}.replace(/(\[|\]|')/g,'').split(',')
                }
            ],
            yAxis : [
                {
                    type : 'value',
                    name : '流量(Mbps)',
                }
            ],
            series : [
                {
                    name:'出口流量',
                    type:'line',
                    areaStyle: {normal: {}},
                    data: {{ .TrafficIn }}.replace(/(\[|\]|')/g,'').split(',')
                },
                {
                    name:'入口流量',
                    type:'line',
                    areaStyle: {normal: {}},
                    data:  {{ .TrafficOut }}.replace(/(\[|\]|')/g,'').split(',')
                },
            ]
        };

        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
 

        // 浏览器代理统计饼状图

        // 基于准备好的dom，初始化echarts实例
        var myChartVistors = echarts.init(document.getElementById('visitors'));
      
        var option = {
        title : {
            text: '长垣教学平台访问浏览器占比',
            subtext: '一小时数据',
            x:'center'
        },
        tooltip : {
            trigger: 'item',
            formatter: "{a} <br/>{b} : {c} ({d}%)"
        },
        legend: {
            orient: 'vertical',
            left: 'left',
            data: ['IE6','IE9','Firefox','Chrome', 'QQBrowser','Others']
        },
        series : [
            {
                name: '访问来源',
                type: 'pie',
                radius : '55%',
                center: ['50%', '60%'],
                data:[
                    {value:335, name:'IE6'},
                    {value:30, name:'IE9'},
                    {value:4, name:'Firefox'},
                    {value:5, name:'Chrome'},
                    {value:808, name:'QQBrowser'},
                    {value:1008, name:'Others'}
                ],
                itemStyle: {
                    emphasis: {
                        shadowBlur: 10,
                        shadowOffsetX: 0,
                        shadowColor: 'rgba(0, 0, 0, 0.5)'
                    }
                }
            }
        ]
        };
        // 使用刚指定的配置项和数据显示图表。
        myChartVistors.setOption(option);


        // 访问IP统计环形图

        // 基于准备好的dom，初始化echarts实例
        var myChartIPS = echarts.init(document.getElementById('ips'));
      
        var option = {
            title : {
            text: '长垣教学平台访问IP占比',
            subtext: '一小时数据',
            x:'center'
            },            
            tooltip: {
                trigger: 'item',
                formatter: "{a} <br/>{b}: {c} ({d}%)"
            },
            legend: {
                orient: 'vertical',
                x: 'left',
                data:['172.16.66.11','172.16.66.12','172.16.31.5','172.16.31.3','172.16.61.23','172.16.66.1','172.16.66.2','172.16.31.15','172.16.31.13','172.16.61.231']
            },
            series: [
                {
                    name:'访问来源',
                    type:'pie',
                    radius: ['50%', '70%'],
                    avoidLabelOverlap: false,
                    label: {
                        normal: {
                            show: false,
                            position: 'center'
                        },
                        emphasis: {
                            show: true,
                            textStyle: {
                                fontSize: '30',
                                fontWeight: 'bold'
                            }
                        }
                    },
                    labelLine: {
                        normal: {
                            show: false
                        }
                    },
                    data:[
                        {value:335, name:'172.16.66.11'},
                        {value:310, name:'172.16.66.12'},
                        {value:234, name:'172.16.31.5'},
                        {value:135, name:'172.16.31.3'},
                        {value:1548, name:'172.16.61.23'},
                        {value:13, name:'172.16.66.1'},
                        {value:12, name:'172.16.66.2'},
                        {value:1, name:'172.16.31.15'},
                        {value:132, name:'172.16.31.13'},
                        {value:11, name:'172.16.61.231'},

                    ]
                }
            ]
        };
         // 使用刚指定的配置项和数据显示图表。
        myChartIPS.setOption(option);


        // 访问http状态柱状图

        // 基于准备好的dom，初始化echarts实例
        var myChartHttpStatus = echarts.init(document.getElementById('httpstatus'));
      
        var option = {
            title : {
            text: '长垣教学平台访问HTTP状态占比',
            subtext: '一小时数据',
            x:'center'
            },  
            tooltip : {
                trigger: 'axis',
                axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                    type : 'line'        // 默认为直线，可选为：'line' | 'shadow'
                }
            },
            legend: {
                data:['']
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis : [
                {
                    type : 'category',
                    data : ['200','206','300', '302', '404', '499', '500']
                }
            ],
            yAxis : [
                {
                    type : 'value'
                }
            ],
            series : [
                {
                    name:'访问总数',
                    type:'bar',
                    data:[{value:320, itemStyle:{normal:{color:'#79c557'}}}, {value:332, itemStyle:{normal:{color:'#43b264'}}}, {value:301, itemStyle:{normal:{color:'#3954bb'}}}, {value:334, itemStyle:{normal:{color:'#18d0d0'}}}, {value:30, itemStyle:{normal:{color:'#7919ba'}}}, {value:330, itemStyle:{normal:{color:'#B5C334'}}}, {value:10, itemStyle:{normal:{color:'#f00909'}}}]
                  
               
                },
               
               
            ]
        };
        // 使用刚指定的配置项和数据显示图表。
        myChartHttpStatus.setOption(option);

    </script>
    

  </body>
</html>
